{"remainingRequest":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jakobscharf/IdeaProjects/wematch-signature-generator/src/components/SignatureForm.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/src/components/SignatureForm.vue","mtime":1706351674275},{"path":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/node_modules/css-loader/dist/cjs.js","mtime":1706349858561},{"path":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1706349863238},{"path":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/node_modules/postcss-loader/src/index.js","mtime":1706349861104},{"path":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/node_modules/cache-loader/dist/cjs.js","mtime":1706349856930},{"path":"/Users/jakobscharf/IdeaProjects/wematch-signature-generator/node_modules/vue-loader/lib/index.js","mtime":1706349863238}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qIEZvcm0gKi8KLmZvcm0gLmZpZWxkewogICAgbWFyZ2luLWJvdHRvbTogMzJweDsKfQouZm9ybSAuZmllbGQtc3VibWl0ewogICAgbWFyZ2luLXRvcDogLTRweDsKfQouZm9ybSAuZmllbGQtbGFiZWx7CiAgICBjb2xvcjogIzAwMjg0ODsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgZm9udC13ZWlnaHQ6IDUwMDsKfQouZm9ybSAuZmllbGQtZGVzYywKLmZvcm0gLmZpZWxkLWVycm9yewogICAgZm9udC1zaXplOiAxMHB4OwogICAgbGluZS1oZWlnaHQ6IDEycHg7CiAgICBmb250LXdlaWdodDogMzAwOwp9Ci5mb3JtIC5maWVsZC1kZXNjewogICAgY29sb3I6ICMwMDI4NDg7Cn0KLmZvcm0gLmZpZWxkLWVycm9yIHsKICAgIGNvbG9yOiByZWQ7Cn0KLmZvcm0gLmZpZWxkLWxhYmVsLAouZm9ybSAuZmllbGQtZGVzYywKLmZvcm0gLmZpZWxkLWVycm9yewogICAgbWFyZ2luLWxlZnQ6IDRweDsKfQouZm9ybSAuZmllbGQtY29udHJvbHsKICAgIG1hcmdpbi10b3A6IDRweDsKfQouZm9ybSAuZmllbGQtY29udHJvbCBzZWxlY3QsCi5mb3JtIC5maWVsZC1jb250cm9sIGlucHV0W3R5cGU9InRleHQiXSwKLmZvcm0gLmZpZWxkLWNvbnRyb2wgaW5wdXRbdHlwZT0iZW1haWwiXSwKLmZvcm0gLmZpZWxkLWNvbnRyb2wgaW5wdXRbdHlwZT0idXJsIl0sCi5mb3JtIC5maWVsZC1jb250cm9sIGlucHV0W3R5cGU9InRlbCJdewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDQ0cHg7CiAgICBjb2xvcjogIzAwMjg0ODsKICAgIGxpbmUtaGVpZ2h0OiA0NHB4OwogICAgZm9udC1zaXplOiAxOHB4OwogICAgcGFkZGluZzogMCAxNXB4OwogICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGOwogICAgYm9yZGVyOiAxcHggc29saWQgI0NCRDhFQjsKICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2Fucy1zZXJpZjsKfQpAbWVkaWEobWF4LXdpZHRoOiA0NzlweCkgewogICAgLmZvcm0gLmZpZWxkLWNvbnRyb2wgc2VsZWN0LAogICAgLmZvcm0gLmZpZWxkLWNvbnRyb2wgaW5wdXRbdHlwZT0idGV4dCJdLAogICAgLmZvcm0gLmZpZWxkLWNvbnRyb2wgaW5wdXRbdHlwZT0iZW1haWwiXSwKICAgIC5mb3JtIC5maWVsZC1jb250cm9sIGlucHV0W3R5cGU9InVybCJdLAogICAgLmZvcm0gLmZpZWxkLWNvbnRyb2wgaW5wdXRbdHlwZT0idGVsIl17CiAgICAgICAgaGVpZ2h0OiAzNnB4OwogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBsaW5lLWhlaWdodDogMzZweDsKICAgIH0KfQouZm9ybSAuZmllbGQtY29udHJvbHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouZm9ybSAuZmllbGQtY29udHJvbCBzZWxlY3QgewogICAgLW1vei1hcHBlYXJhbmNlOm5vbmU7IC8qIEZpcmVmb3ggKi8KICAgIC13ZWJraXQtYXBwZWFyYW5jZTpub25lOyAvKiBTYWZhcmkgYW5kIENocm9tZSAqLwogICAgYXBwZWFyYW5jZTpub25lOwp9Ci5maWVsZC1zZWxlY3QgLmZpZWxkLWNvbnRyb2w6OmFmdGVyewogICAgdG9wOiA1MCU7CiAgICBtYXJnaW4tdG9wOiAtMy41cHg7CiAgICBjb250ZW50OiAiICI7CiAgICByaWdodDogMjBweDsKICAgIHdpZHRoOiAxMHB4OwogICAgaGVpZ2h0OiA3cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJhY2tncm91bmQ6IHVybCgnLi4vYXNzZXRzL2Ryb3Bkb3duLnN2ZycpIG5vLXJlcGVhdDsKfQouZm9ybSAuZmllbGQtc3VibWl0IGJ1dHRvbnsKICAgIG1hcmdpbi1yaWdodDogMjBweDsKfQpAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHsKICAgIC5mb3JtIC5maWVsZC1zdWJtaXQgYnV0dG9uewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIG1hcmdpbi1yaWdodDogMDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgfQp9Cg=="},{"version":3,"sources":["SignatureForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignatureForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <form class=\"form\">\n    <div class=\"field field-select\">\n      <div class=\"field-label\">Unternehmen</div>\n      <div class=\"field-control\">\n        <select v-model=\"form.company\" autocomplete=\"organization\">\n          <option v-for=\"c in companies\" :key=\"c.name\" :value=\"c.name\">{{c.name}}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"field field-text\">\n      <div class=\"field-label\">Name*</div>\n      <div class=\"field-error\" v-show=\"nameError\" v-html=\"nameError\"></div>\n      <div class=\"field-control\">\n        <input type=\"text\" autocomplete=\"name\" v-model=\"form.name\" v-on:blur=\"nameBlured = true;\" />\n      </div>\n    </div>\n\n    <div class=\"field field-text\">\n      <div class=\"field-label\">Job-Titel*</div>\n      <div class=\"field-error\" v-show=\"jobTitleError\" v-html=\"jobTitleError\"></div>\n      <div class=\"field-control\">\n        <input type=\"text\" autocomplete=\"organization-title\" v-model=\"form.jobTitle\" v-on:blur=\"jobTitleBlured = true;\" />\n      </div>\n    </div>\n\n    <div class=\"field field-text\">\n      <div class=\"field-label\">Telefonnummer</div>\n      <div class=\"field-desc\">Bitte angeben inkl. +49 und ohne 0 am Anfang.</div>\n      <div class=\"field-error\" v-show=\"mobileError\" v-html=\"mobileError\"></div>\n      <div class=\"field-control\">\n        <input type=\"text\" autocomplete=\"tel\" v-model=\"form.mobile\" v-on:blur=\"mobileBlured = true;\" />\n      </div>\n    </div>\n\n    <div class=\"field field-submit\">\n        <button type=\"button\" :title=\"btnTitle\" :disabled=\"formValid === false\" class=\"btn primary-btn\" @click.prevent=\"copySignature()\">{{ copySignatureBtnText }}</button>\n        <button type=\"button\" :title=\"btnTitle\" :disabled=\"formValid === false\" class=\"btn secondary-btn\" @click.prevent=\"copyHtml()\">{{ copyHtmlBtnText }}</button>\n    </div>\n  </form>\n</template>\n\n<script>\n\nexport default {\n  name: 'SignatureForm',\n  props: [\n    'companies', \n    'form',\n    'useCache'\n  ],\n  data() {\n    return {\n      nameBlured: false,\n      jobTitleBlured: false,\n      officeBlured: false,\n      mobileBlured: false,\n      copiedHtml: false,\n      copiedSignature: false\n    }\n  },\n  mounted() {\n    if (this.useCache && localStorage.getItem('form')) {\n      Object.assign(this.form, JSON.parse(localStorage.getItem('form')));\n    }\n  },\n  methods: {\n    generated() {\n      if (this.useCache) {\n        let form = this.form;\n        localStorage.setItem('form', JSON.stringify(form));\n      }\n    },\n    copySignature: function() {\n      let element = this.$parent.$refs.preview;\n\n      if ( ! element ) {\n        alert('Preview noch nicht bereit.');\n        return false;\n      }\n\n      if (document.body.createTextRange) {\n        let range = document.body.createTextRange();\n        range.moveToElementText(element.$el);\n        range.select();\n        document.execCommand('copy');\n\n      } else if (window.getSelection) {\n        // let tWidth = element.$el.children[0].clientWidth;\n        // element.$el.children[0].style.width = (tWidth + 100) + 'px';\n        let selection = window.getSelection();        \n        let range = document.createRange();\n        range.selectNodeContents(element.$el);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        document.execCommand('copy');\n        selection.removeAllRanges();\n      }\n\n      this.generated();\n      this.copiedSignature = true;\n      setTimeout(() => { this.copiedSignature = false }, 2000)\n    },\n    copyHtml: function() {\n      let element = this.$parent.$refs.preview;\n\n      if ( ! element ) {\n        alert('Preview noch nicht bereit.');\n        return false;\n      }\n\n      const el = document.createElement('textarea');\n\n      el.value = element.$el.innerHTML;\n      el.setAttribute('readonly', '');\n      el.style.position = 'absolute';\n      el.style.left = '-9999px';\n      document.body.appendChild(el);\n\n      const selected =  document.getSelection().rangeCount > 0  ? document.getSelection().getRangeAt(0) : false;                                    \n      el.select();\n      document.execCommand('copy');\n      document.body.removeChild(el);\n      if (selected) {\n        document.getSelection().removeAllRanges();\n        document.getSelection().addRange(selected);\n      }\n\n      this.generated();\n      this.copiedHtml = true;\n      setTimeout(() => { this.copiedHtml = false }, 2000)\n    }\n  },\n  computed: {\n    nameError() {\n      if ( ! this.nameBlured && ! this.jobTitleBlured  && ! this.officeBlured  && ! this.mobileBlured ) {\n        return '';\n      }\n\n      var value = this.form.name.trim();\n      if ( ! value ) {\n        return 'Bitte Namen angeben.';\n      }\n\n      return '';\n    },\n    jobTitleError() {\n      if ( ! this.jobTitleBlured && ! this.officeBlured  && ! this.mobileBlured ) {\n        return '';\n      }\n\n      const value = this.form.jobTitle.trim();\n      if ( ! value ) {\n        return 'Bitte Job-Titel angeben.';\n      }\n\n      return '';\n    },\n    officeError() {\n      const value = this.form.office.trim();\n      if ( ! value || value === '+' || ( ! this.officeBlured  && ! this.mobileBlured ) ) {\n        return '';\n      }\n\n      var phoneNumberPattern = /^\\+?[0-9-]+$/;  \n      if ( phoneNumberPattern.test( value ) == false ) {\n        return 'Bitte nur Zahlen eingeben.';\n      }\n\n      return '';\n    },\n    mobileError() {\n      var value = this.form.mobile.trim();\n      if ( ! value || value === '+' || ! this.mobileBlured ) {\n        return '';\n      }\n\n      var phoneNumberPattern = /^\\+?[0-9-]+$/;  \n      if ( phoneNumberPattern.test( value ) == false ) {\n        return 'Bitte nur Zahlen eingeben.';\n      }\n\n      return '';\n    },\n\n    btnTitle() {\n      return this.formValid ? '' : 'Bitte zunächst das Formular ausfüllen.'\n    },\n    copySignatureBtnText() {\n      return this.copiedSignature ? 'Kopiert' : 'Signatur kopieren'\n    },\n    copyHtmlBtnText() {\n      return this.copiedHtml ? 'Kopiert' : 'HTML kopieren'\n    },\n    formValid() {\n      if ( ! this.form.name) {\n        return false;\n      }\n\n      if ( ! this.form.jobTitle.trim() ) {\n        return false;\n      }\n\n      return true;\n    }\n  }\n}\n</script>\n\n<style>\n/* Form */\n.form .field{\n    margin-bottom: 32px;\n}\n.form .field-submit{\n    margin-top: -4px;\n}\n.form .field-label{\n    color: #002848;\n    font-size: 12px;\n    line-height: 20px;\n    font-weight: 500;\n}\n.form .field-desc,\n.form .field-error{\n    font-size: 10px;\n    line-height: 12px;\n    font-weight: 300;\n}\n.form .field-desc{\n    color: #002848;\n}\n.form .field-error {\n    color: red;\n}\n.form .field-label,\n.form .field-desc,\n.form .field-error{\n    margin-left: 4px;\n}\n.form .field-control{\n    margin-top: 4px;\n}\n.form .field-control select,\n.form .field-control input[type=\"text\"],\n.form .field-control input[type=\"email\"],\n.form .field-control input[type=\"url\"],\n.form .field-control input[type=\"tel\"]{\n    width: 100%;\n    height: 44px;\n    color: #002848;\n    line-height: 44px;\n    font-size: 18px;\n    padding: 0 15px;\n    font-weight: 300;\n    border-radius: 8px;\n    box-sizing: border-box;\n    background-color: #FFF;\n    border: 1px solid #CBD8EB;\n    font-family: 'Roboto', sans-serif;\n}\n@media(max-width: 479px) {\n    .form .field-control select,\n    .form .field-control input[type=\"text\"],\n    .form .field-control input[type=\"email\"],\n    .form .field-control input[type=\"url\"],\n    .form .field-control input[type=\"tel\"]{\n        height: 36px;\n        font-size: 14px;\n        line-height: 36px;\n    }\n}\n.form .field-control{\n    position: relative;\n}\n.form .field-control select {\n    -moz-appearance:none; /* Firefox */\n    -webkit-appearance:none; /* Safari and Chrome */\n    appearance:none;\n}\n.field-select .field-control::after{\n    top: 50%;\n    margin-top: -3.5px;\n    content: \" \";\n    right: 20px;\n    width: 10px;\n    height: 7px;\n    display: block;\n    position: absolute;\n    background: url('../assets/dropdown.svg') no-repeat;\n}\n.form .field-submit button{\n    margin-right: 20px;\n}\n@media (max-width: 480px) {\n    .form .field-submit button{\n        width: 100%;\n        display: block;\n        margin-right: 0;\n        margin-bottom: 10px;\n    }\n}\n</style>"]}]}